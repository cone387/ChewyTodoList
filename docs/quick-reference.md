# 三层模板架构 - 快速参考

## 顶部导航栏按钮（从左到右）

```
┌─────────────────────────────────────────────────────────────┐
│  ☰  任务管理  [style] [view_module] [check] [tune] [👤]      │
└─────────────────────────────────────────────────────────────┘
              ↑       ↑           ↑       ↑      ↑
              │       │           │       │      └─ 用户头像
              │       │           │       └─ 视图管理
              │       │           └─ 已完成任务显示/隐藏
              │       └─ 视图类型选择（列表/看板/日历等）
              └─ 任务卡片样式选择（默认/极简/详细等）
```

## 三层架构快速对照表

| 层级 | 名称 | 控制内容 | 按钮位置 | 图标 | 可选项 |
|------|------|----------|----------|------|--------|
| 第1层 | 视图 | 看什么任务 | 顶部标签栏 | - | 今日任务、高优先级、本周任务等 |
| 第2层 | 视图类型 | 怎么看任务 | 右上角第2个 | view_module | 列表、看板、日历、表格、时间线、画廊 |
| 第3层 | 任务卡片 | 看多细 | 右上角第1个 | style | 默认、极简、详细、看板、彩色、时间线 |

## 任务卡片样式对照表

| 样式 | 图标 | 布局 | 适用场景 | 特点 |
|------|------|------|----------|------|
| 默认卡片 | article | 舒适 | 日常使用 | 简洁实用，显示所有关键信息 |
| 极简卡片 | minimize | 紧凑 | 专注模式 | 最小化信息，只显示标题和状态 |
| 详细卡片 | description | 宽松 | 详细查看 | 显示完整信息，包含描述 |
| 看板卡片 | view_kanban | 紧凑 | 看板视图 | 优化垂直空间，适合列显示 |
| 彩色卡片 | palette | 舒适 | 视觉区分 | 彩色边框和背景，突出优先级 |
| 时间线卡片 | timeline | 舒适 | 时间管理 | 强调时间信息和截止日期 |

## 视图类型对照表

| 类型 | 图标 | 适用场景 | 特点 |
|------|------|----------|------|
| 列表视图 | list | 日常任务管理 | 传统垂直列表，简单直接 |
| 看板视图 | view_kanban | 项目管理 | 按列分组，拖拽排序 |
| 日历视图 | calendar_month | 日程安排 | 按日期展示，时间可视化 |
| 表格视图 | table | 数据分析 | 表格形式，支持排序筛选 |
| 时间线视图 | timeline | 时间规划 | 时间轴展示，甘特图风格 |
| 画廊视图 | grid_view | 视觉浏览 | 网格卡片，图片优先 |

## 常用组合推荐

### 📋 日常工作
- **视图**：今日任务
- **类型**：列表视图
- **卡片**：默认卡片

### 🎯 项目管理
- **视图**：项目A任务
- **类型**：看板视图
- **卡片**：看板卡片

### ⏰ 时间规划
- **视图**：本周任务
- **类型**：时间线视图
- **卡片**：时间线卡片

### 🔥 紧急任务
- **视图**：高优先级任务
- **类型**：列表视图
- **卡片**：彩色卡片

### 🧘 专注模式
- **视图**：今日任务
- **类型**：列表视图
- **卡片**：极简卡片

### 📊 详细审查
- **视图**：所有任务
- **类型**：表格视图
- **卡片**：详细卡片

## 快捷操作

### 切换任务卡片样式
1. 点击右上角 `style` 图标
2. 在弹出的选择器中选择样式
3. 点击即可应用

### 切换视图类型
1. 点击右上角 `view_module` 图标
2. 在弹出的选择器中选择类型
3. 点击即可切换

### 显示/隐藏已完成任务
1. 点击右上角 `check_circle` 图标
2. 已完成任务显示在底部
3. 点击"已完成"标题可展开/折叠

### 切换视图
1. 在顶部标签栏点击视图名称
2. 或点击右上角 `tune` 图标进入视图管理

## 文件位置

### 类型定义
- `frontend/src/types/index.ts` - 视图类型
- `frontend/src/types/templates.ts` - 视图模板类型
- `frontend/src/types/taskCard.ts` - 任务卡片类型

### 数据文件
- `frontend/src/data/viewTemplates.ts` - 视图模板数据

### 组件文件
- `frontend/src/components/Header.tsx` - 顶部导航栏
- `frontend/src/components/ViewRenderer.tsx` - 视图类型渲染器
- `frontend/src/components/EnhancedTaskList.tsx` - 列表视图
- `frontend/src/components/KanbanBoard.tsx` - 看板视图
- `frontend/src/components/CalendarView.tsx` - 日历视图
- `frontend/src/components/TableView.tsx` - 表格视图
- `frontend/src/components/TimelineView.tsx` - 时间线视图
- `frontend/src/components/GalleryView.tsx` - 画廊视图

### 页面文件
- `frontend/src/pages/HomePage.tsx` - 主页
- `frontend/src/pages/ViewsPage.tsx` - 视图管理
- `frontend/src/pages/ViewTemplateMarketPage.tsx` - 视图市场

## 开发提示

### 添加新的任务卡片样式
1. 在 `frontend/src/types/taskCard.ts` 中添加新模板
2. 配置样式属性
3. 在 HomePage 的选择器中自动显示

### 添加新的视图类型
1. 创建新的视图组件（如 `MindMapView.tsx`）
2. 在 `ViewRenderer.tsx` 中添加 case
3. 在 HomePage 的 viewTypes 数组中添加选项

### 添加新的视图模板
1. 在 `frontend/src/data/viewTemplates.ts` 中添加模板
2. 配置筛选、排序、分组规则
3. 在视图市场中自动显示

## 注意事项

⚠️ **任务卡片样式**只影响单个任务的展示方式，不会改变任务的筛选、排序和分组

⚠️ **视图类型**只影响任务的整体布局，不会改变任务的筛选和排序

⚠️ **视图**控制获取哪些任务，是三层架构的基础

✅ 三层可以自由组合，互不影响

✅ 所有设置都可以实时切换，无需刷新页面

✅ 未来将支持保存用户偏好设置
